<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Listado de usuarios</title>
	<style>
</style>
</h:head>
<h:body>
	<h:form>
		<h1>
			<img src="utec.jpg" alt="Logo UTEC" width="200px" height="auto" />
		</h1>
		<hr color="skyblue" size="5px" />
		<h2>Datos de los Usuarios</h2>

		<p:commandButton value="Mostrar alumnos"
			actionListener="#{gestionUsuario.mostrarAlumnos}"
			update="usuariosTable estadoFiltroMenu" />

		<p:commandButton value="Mostrar tutores"
			actionListener="#{gestionUsuario.mostrarTutores}"
			update="usuariosTable estadoFiltroMenu" />

		<p:commandButton value="Mostrar funcionarios"
			actionListener="#{gestionUsuario.mostrarAnalistas}"
			update="usuariosTable estadoFiltroMenu" />

		<p:outputLabel value="Filtrar por estado:" />
		<p:selectOneMenu id="estadoFiltroMenu" value="#{gestionUsuario.estadoFiltro}">
			<f:selectItem itemValue="Todos" itemLabel="Todos" />
			<f:selectItem itemValue="Activo" itemLabel="Activo" />
			<f:selectItem itemValue="Inactivo" itemLabel="Inactivo" />
		</p:selectOneMenu>
		<p:commandButton value="Aplicar"
			actionListener="#{gestionUsuario.filtrar}"
			update="usuariosTable" />

		<p:dataTable id="usuariosTable" value="#{gestionUsuario.usuarios}"
			var="usuario" emptyMessage="No hay usuarios disponibles"
			sortMode="multiple" >

			<p:column headerText="Primer Nombre">
                #{usuario.nombre1}
            </p:column>
			<p:column headerText="Primer Apellido">
                #{usuario.apellido1}
            </p:column>
			<p:column headerText="Documento">
                #{usuario.documento}
            </p:column>
			<p:column headerText="Fecha Nacimiento">
                #{usuario.fechaNacLocal}
            </p:column>
			<p:column headerText="Email Personal">
                #{usuario.emailPersonal}
            </p:column>
			<p:column headerText="TelÃ©fono">
                #{usuario.telefono}
            </p:column>
			<p:column headerText="Departamento">
                #{usuario.departamento}
            </p:column>
			<p:column headerText="Email Institucional">
                #{usuario.emailInstitucional}
            </p:column>
			<p:column headerText="ITR">
                #{usuario.itr}
            </p:column>
			<p:column headerText="Estado">
                #{usuario.activo == 1 ? 'Activo' : 'Inactivo'}
            </p:column>


		</p:dataTable>

		<h:commandButton value="Volver"
			action="#{navigationBean.goToBienvenida}" />
	</h:form>
</h:body>
</html>
